import{D as ne,O as le,t as k,F as S,m as ie,v as fe,g as X,P as te,Q as se,R as $,s as y,w as b,x as ue,S as z,E as J,T as ve,U as L,B as K,G as F,V as G,W as de,X as W,Y as O,Z as oe,A as _e,_ as ce,$ as he,a0 as Q,a1 as Ee,o as pe,a2 as Te,a3 as xe,a4 as j,a5 as Ie}from"./DMq4l-h9.js";function Ce(t,a){return a}function Ae(t,a,e,n){for(var i=[],s=a.length,v=0;v<s;v++)oe(a[v].e,i,!0);var _=s>0&&i.length===0&&e!==null;if(_){var x=e.parentNode;_e(x),x.append(e),n.clear(),R(t,a[0].prev,a[s-1].next)}ce(i,()=>{for(var h=0;h<s;h++){var o=a[h];_||(n.delete(o.k),R(t,o.prev,o.next)),he(o.e,!_)}})}function Ne(t,a,e,n,i,s=null){var v=t,_={flags:a,items:new Map,first:null},x=(a&j)!==0;if(x){var h=t;v=S?k(ie(h)):h.appendChild(ne())}S&&fe();var o=null,C=!1,f=te(()=>{var d=e();return Te(d)?d:d==null?[]:K(d)});le(()=>{var d=X(f),r=d.length;if(C&&r===0)return;C=r===0;let A=!1;if(S){var E=v.data===se;E!==(r===0)&&(v=$(),k(v),y(!1),A=!0)}if(S){for(var p=null,I,c=0;c<r;c++){if(b.nodeType===8&&b.data===ue){v=b,A=!0,y(!1);break}var l=d[c],u=n(l,c);I=ee(b,_,p,null,l,u,c,i,a,e),_.items.set(u,I),p=I}r>0&&k($())}S||me(d,_,v,i,a,n,e),s!==null&&(r===0?o?z(o):o=J(()=>s(v)):o!==null&&ve(o,()=>{o=null})),A&&y(!0),X(f)}),S&&(v=b)}function me(t,a,e,n,i,s,v){var q,V,Y,B;var _=(i&Ie)!==0,x=(i&(Q|O))!==0,h=t.length,o=a.items,C=a.first,f=C,d,r=null,A,E=[],p=[],I,c,l,u;if(_)for(u=0;u<h;u+=1)I=t[u],c=s(I,u),l=o.get(c),l!==void 0&&((q=l.a)==null||q.measure(),(A??(A=new Set)).add(l));for(u=0;u<h;u+=1){if(I=t[u],c=s(I,u),l=o.get(c),l===void 0){var ae=f?f.e.nodes_start:e;r=ee(ae,a,r,r===null?a.first:r.next,I,c,u,n,i,v),o.set(c,r),E=[],p=[],f=r.next;continue}if(x&&ge(l,I,u,i),(l.e.f&L)!==0&&(z(l.e),_&&((V=l.a)==null||V.unfix(),(A??(A=new Set)).delete(l))),l!==f){if(d!==void 0&&d.has(l)){if(E.length<p.length){var w=p[0],m;r=w.prev;var U=E[0],H=E[E.length-1];for(m=0;m<E.length;m+=1)Z(E[m],w,e);for(m=0;m<p.length;m+=1)d.delete(p[m]);R(a,U.prev,H.next),R(a,r,U),R(a,H,w),f=w,r=H,u-=1,E=[],p=[]}else d.delete(l),Z(l,f,e),R(a,l.prev,l.next),R(a,l,r===null?a.first:r.next),R(a,r,l),r=l;continue}for(E=[],p=[];f!==null&&f.k!==c;)(f.e.f&L)===0&&(d??(d=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue;l=f}E.push(l),r=l,f=l.next}if(f!==null||d!==void 0){for(var N=d===void 0?[]:K(d);f!==null;)(f.e.f&L)===0&&N.push(f),f=f.next;var M=N.length;if(M>0){var re=(i&j)!==0&&h===0?e:null;if(_){for(u=0;u<M;u+=1)(Y=N[u].a)==null||Y.measure();for(u=0;u<M;u+=1)(B=N[u].a)==null||B.fix()}Ae(a,N,re,o)}}_&&xe(()=>{var P;if(A!==void 0)for(l of A)(P=l.a)==null||P.apply()}),F.first=a.first&&a.first.e,F.last=r&&r.e}function ge(t,a,e,n){(n&Q)!==0&&G(t.v,a),(n&O)!==0?G(t.i,e):t.i=e}function ee(t,a,e,n,i,s,v,_,x,h){var o=(x&Q)!==0,C=(x&Ee)===0,f=o?C?de(i):W(i):i,d=(x&O)===0?v:W(v),r={i:d,v:f,k:s,a:null,e:null,prev:e,next:n};try{return r.e=J(()=>_(t,f,d,h),S),r.e.prev=e&&e.e,r.e.next=n&&n.e,e===null?a.first=r:(e.next=r,e.e.next=r.e),n!==null&&(n.prev=r,n.e.prev=r.e),r}finally{}}function Z(t,a,e){for(var n=t.next?t.next.e.nodes_start:e,i=a?a.e.nodes_start:e,s=t.e.nodes_start;s!==n;){var v=pe(s);i.before(s),s=v}}function R(t,a,e){a===null?t.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}let T=[],g=0;const D=4;let Re=t=>{let a=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},lc:0,listen(n){return e.lc=a.push(n),()=>{for(let s=g+D;s<T.length;)T[s]===n?T.splice(s,D):s+=D;let i=a.indexOf(n);~i&&(a.splice(i,1),--e.lc||e.off())}},notify(n,i){let s=!T.length;for(let v of a)T.push(v,e.value,n,i);if(s){for(g=0;g<T.length;g+=D)T[g](T[g+1],T[g+2],T[g+3]);T.length=0}},off(){},set(n){let i=e.value;i!==n&&(e.value=n,e.notify(i))},subscribe(n){let i=e.listen(n);return n(e.value),i},value:t};return e};const be=Re(null);export{Ne as e,Ce as i,be as s};
